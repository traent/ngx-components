<div
  class="tw-flex tw-flex-wrap tw-whitespace-pre-wrap message-content-container tw-break-all"
  [class.reduced]="mode === 'reduced'">
  <ng-container *ngFor="let fragment of fragments">
    <div
      *ngIf="fragment.kind === MessageFragmentType.Simple"
      class="tw-inline"
      [ngxT3DrawRichText]="fragment.text">
    </div>
    <span
      *ngIf="fragment.kind === MessageFragmentType.Rich"
      class="message-content-tag tw-cursor-pointer tw-w-fit tw-h-fit tw-px-1 tw-py-0.5 tw-pr-2 tw-break-all tw-box-border"
      [matTooltip]="(fragment.label | async) || ''"
      [ngClass]="fragment.class"
      (click)="fragmentSelect.emit(fragment)">
      <ngx-t3-icon [icon]="fragment.icon"></ngx-t3-icon>
      <span class="tw-truncate">{{ fragment.label | async }}</span>
    </span>
  </ng-container>
</div>
