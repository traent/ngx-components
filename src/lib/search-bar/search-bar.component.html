<div
  class="search-bar opal-px-3 opal-fx-row opal-fx-align-center opal-bg-white opal-border-box"
  [class.opal-radius-32]="shape === 'rounded'"
  [class.opal-radius-4]="shape === 'squared'"
  [class.hasBorder]="hasBorder"
  [class.has-value]="query">
  <mat-icon>search</mat-icon>
  <input
    class="opal-w-full opal-body-2"
    #searchInput
    matInput
    [placeholder]="placeholder"
    [ngModel]="query"
    (input)="innerQueryChange$.next($any($event).target.value)">
  <ng-content select="[afterInput]"></ng-content>
  <mat-icon
    *ngIf="query || persistClose"
    class="clear-icon opal-pointer"
    (click)="innerQueryChange$.next(''); clearQuery.emit(); $event.stopPropagation()">
    clear
  </mat-icon>
  <ng-content select="[afterClear]"></ng-content>
</div>
