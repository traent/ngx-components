<div
  class="search-bar tw-px-3 tw-flex tw-flex-row tw-items-center tw-bg-white tw-box-border"
  [class.!tw-rounded-[32px]]="shape === 'rounded'"
  [class.!tw-rounded]="shape === 'squared'"
  [class.hasBorder]="hasBorder"
  [class.has-value]="query">
  <mat-icon>search</mat-icon>
  <input
    #searchInput
    class="tw-w-full tw-text-sm"
    matInput
    [placeholder]="placeholder"
    [ngModel]="query"
    (input)="innerQueryChange$.next($any($event).target.value)">
  <ng-content select="[afterInput]"></ng-content>
  <mat-icon
    *ngIf="query || persistClose"
    class="clear-icon tw-cursor-pointer"
    (click)="innerQueryChange$.next(''); clearQuery.emit(); $event.stopPropagation()">
    clear
  </mat-icon>
  <ng-content select="[afterClear]"></ng-content>
</div>
